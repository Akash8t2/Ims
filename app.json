{
  "name": "otp-forwarder-bot",
  "description": "OTP Forwarder Bot - logs into dashboard, scrapes SMS and forwards to Telegram",
  "repository": "",
  "stack": "container",
  "buildpacks": [
    { "url": "heroku/python" }
  ],
  "env": {
    "BOT_TOKEN": {
      "description": "Telegram Bot token from @BotFather (format: 123456:ABCDEF...)",
      "required": true
    },
    "CHAT_IDS": {
      "description": "Comma-separated Telegram chat IDs or group IDs (e.g. -100123...,12345)",
      "required": true
    },
    "USERNAME": {
      "description": "Website login username",
      "required": true
    },
    "PASSWORD": {
      "description": "Website login password",
      "required": true
    },
    "SITE_BASE": {
      "description": "Base URL of site",
      "value": "http://45.82.67.20"
    },
    "DASH_PATH": {
      "description": "Path to dashboard page",
      "value": "/ints/agent/SMSDashboard"
    },
    "CDR_PATH": {
      "description": "Path to CDR/SMS stats page",
      "value": "/ints/agent/SMSCDRStats"
    },
    "LOGIN_PATH": {
      "description": "Path to login page (optional)",
      "value": "/ints/agent/login"
    },
    "POLL_INTERVAL": {
      "description": "Seconds between polls",
      "value": "6"
    },
    "STATE_FILE": {
      "description": "Filename to persist processed ids",
      "value": "processed_sms_ids.json"
    },
    "MAX_SEEN": {
      "description": "Max number of seen IDs to keep in memory",
      "value": "20000"
    },
    "USER_AGENT": {
      "description": "User-Agent header used for requests",
      "value": "Mozilla/5.0 (X11; Linux x86_64)"
    },
    "REQUEST_TIMEOUT": {
      "description": "HTTP request timeout in seconds",
      "value": "15"
    }
  },
  "formation": {
    "worker": {
      "quantity": 1
    }
  }
}
